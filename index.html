<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>S@ngkar Equipment Form</title>
</head>
<body>
  <h1>Equipment Movement</h1>

  <form id="equipmentForm">
    <label>Equipment:</label> <span id="equipmentName"></span><br>
    <label>Serial Number:</label> <input type="text" id="serialNumber" name="SerialNumber" readonly><br>
    <label>Expiry Calibration:</label> <span id="expiryCal"></span><br><br>

    <label for="name">Name:</label>
    <select id="name" name="Name"></select><br>

    <label for="direction">Outgoing or Incoming:</label>
    <select id="direction" name="OutgoingOrIncoming">
      <option value="Outgoing">Outgoing</option>
      <option value="Incoming">Incoming</option>
    </select><br>

    <label for="purpose">Purpose:</label>
    <input type="text" id="purpose" name="Purpose"><br>

    <label for="remark">Remark (max 50 chars):</label>
    <input type="text" id="remark" name="Remark" maxlength="50"><br>

    <label for="qty">Qty (if consumables):</label>
    <input type="number" id="qty" name="Qty"><br><br>

    <button type="submit">Submit</button>
  </form>

  <script>
    // Get serial number from URL
    const urlParams = new URLSearchParams(window.location.search);
    const serialNumber = urlParams.get('serial');
    document.getElementById("serialNumber").value = serialNumber;

    // Load equipment_lookup.json
    fetch("equipment_lookup.json")
      .then(res => res.json())
      .then(data => {
        if (data[serialNumber]) {
          document.getElementById("equipmentName").textContent = data[serialNumber].Equipment;
          document.getElementById("expiryCal").textContent = data[serialNumber].ExpiryCalibration;
        } else {
          document.getElementById("equipmentName").textContent = "Unknown";
